import { createBrowserRouter } from 'react-router-dom'
import Main from '~/pages/main'
import Login from '~/pages/login'
import MainPageLayout from '~/app/MainPageLayout'
import { UserProfilePage } from '~/pages/profile'

import HelpRequestPage from '~/pages/onerequers'
import { PrivateRoute } from '~/shared/routes/PrivateRoute.tsx'

export const router = createBrowserRouter([
	{
		path: '/',
		element: <MainPageLayout />,
		children: [
			{
				index: true,
<<<<<<< HEAD
				element: <PrivateRoute element={<Main />} />
=======
				element: <PrivateRoute element={<Main />} />,
				loader: async () => {
					store.dispatch(
						apiHelpRequests.util.prefetch('getAllCards', undefined, {})
					)
					return null
				}
>>>>>>> 1f64ca8efe1140ee1e5cd16be83355ebbfc7e48f
			},
			{
				path: '/user',
				element: <PrivateRoute element={<UserProfilePage />} />
			},
			{
				path: '/login',
				element: <Login />
			},
			{
				path: '/request/:id',
				element: <PrivateRoute element={<HelpRequestPage />} />
			}
		]
	}
])
